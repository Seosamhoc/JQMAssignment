<!DOCTYPE html>   
<html>   
   <head>   
   <meta charset="utf-8">  
   <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />  
  
   <title> JQM </title>   
    <link rel="stylesheet" href="css/themes/Chilly.css" />
    <link rel="stylesheet" href="css/mobile.css" />
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.3.2/jquery.mobile.structure-1.3.2.min.css" />  
  
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.2/jquery.mobile-1.3.2.min.js"></script>
    <script>        
          $(document).ready(function () {
              console.log('jquery loaded');
            $.getJSON('database.json', function(data) {

            //    console.log('loaded');
              console.log(data[0].name);
                
                  var items=''; //Create a variable so you can build up a html string  
                          
                        /*  
                            Use the jquery $.each() function to iterate through 
                            item in the array  
                            In this case we wrap each item in a paragraph tag 
                        */  
                        $.each(data, function(i,jsonItem){  
                            if(data[i].category==="planets" && i===0){
                              items += "<li data-role='list-divider' role='heading' class='ui-li ui-li-divider ui-bar-b'>Planets</li>";
                              }
                            if(data[i].category==="galaxy" && data[i].category!=data[i-1].category){
                              items += "<li data-role='list-divider' role='heading' class='ui-li ui-li-divider ui-bar-b'>Galaxies</li>";
                            }
                            if(data[i].category==="Moon Of Saturn" && data[i].category!=data[i-1].category){
                              items += "<li data-role='list-divider' role='heading' class='ui-li ui-li-divider ui-bar-b'>Moons Of Saturn</li>";
                            }
                            items += "<li data-filtertext= ' " +data[i].category+ " " + data[i].name + " 'data-corners='false' data-shadow='false' data-iconshadow='true' data-wrapperels='div' data-icon='arrow-r' data-iconpos='right' data-theme='c' class='ui-btn ui-btn-up-c ui-btn-icon-right ui-li-has-arrow ui-li ui-li-has-thumb'>";
                            items += "<div class='ui-btn-inner ui-li'><div class='ui-btn-text'>"
                            items += "<a href='#" + data[i].id + "' class='ui-link-inherit'><img src='" + data[i].image + "' alt='" + data[i].name + "' class='ui-li-thumb'>" +data[i].name + "</a>";
                            items += "</div><span class='ui-icon ui-icon-arrow-r ui-icon-shadow'>&nbsp;</span></div></li>"
                        }); 
                          $('#ajaxContent').empty();
                          $('#ajaxContent').append(items);  

                  var pages='';

                        $.each(data, function(j,jsonItem){
                          pages += "<div data-role='page' id='" + data[j].id + "''>";
                          pages += "<header data-role='header'><h1>Space <br/>OBJECTS</h1></header>"
                          pages += "<img src='" + data[j].image + "' alt='" + data[j].name + "'>"
                          pages += "<p>This is page " + data[j].name + "</p>"
                          pages += "<footer data-role='footer'><h4> www.tutsplus.com </h4></footer>"
                          pages += "</div>"

                        });
                          $('body').append(pages);
            }); 

          });//close on ready
 
  
</script>
</head>  
<body>  
 <div data-role="page">  

        <header data-role="header">  
            <h1> Space <br/>OBJECTS</h1>  
        </header>  
      
        <div data-role="content">  

            <ul data-filter="true" data-role="listview" data-inset="true" id='ajaxContent'>   
                <li data-role="list-divider">
                	Planets
                </li>

                <li data-filtertext=" planets Mercury ">  
                    <a href="#Mercury"><img src="img/planet1.jpg" alt="Mercury"/> Mercury </a>  
                </li> 
                <li data-filtertext=" planets Venus ">  
                    <a href="#Venus"><img src="img/planet2.jpg" alt="Venus"/> Venus </a>  
                </li> 
                <li data-filtertext=" planets Earth ">  
                    <a href="#Earth"><img src="img/planet3.jpg" alt="Earth"/> Earth </a>  
                </li> 
                <li data-filtertext=" planets Mars ">  
                    <a href="#Mars"><img src="img/planet4.jpg" alt="Mars"/> Mars </a>  
                </li> 
                <li data-filtertext=" planets Jupiter ">  
                    <a href="#Jupiter"><img src="img/planet5.jpg" alt="Jupiter"/> Jupiter </a>  
                </li> 
                <li data-filtertext=" planets Saturn ">  
                    <a href="#Saturn"><img src="img/planet6.jpg" alt="Saturn"/> Saturn </a>  
                </li> 
                <li data-filtertext=" planets Uranus ">  
                    <a href="#Uranus"><img src="img/planet7.jpg" alt="Uranus"/> Uranus </a>  
                </li> 
                <li data-filtertext=" planets Neptune ">  
                    <a href="#Neptune"><img src="img/planet8.jpg" alt="Neptune"/> Neptune </a>  
                </li>  

                
            </ul>  
            <a href="#mypanel" data-role="button" data-icon="gear" data-display="overlay" data-position="right" data-iconpos="left" data-reveal="reveal" data-dismissible="true" data-corners="true" data-shadow="true" data-iconshadow="true" data-wrapperels="span" data-theme="c" class="ui-btn ui-shadow ui-btn-corner-all ui-btn-icon-left ui-btn-up-c"><span class="ui-btn-inner"><span class="ui-btn-text">Go to panel</span><span class="ui-icon ui-icon-gear ui-icon-shadow">&nbsp;</span></span></a>
        </div>  
      
        <footer data-role="footer">  
            <h4> www.tutsplus.com </h4>  

        </footer>  
  <div data-role="panel" id="mypanel" data-dismissible="true" data-display="overlay" class="ui-responsive-panel"> 
            <div class="paneldiv">
                This is some text that shouldn't be transparent.dsafjkdsahfksdhfkjhdskfjhdskjfhkjdshiuebkdsvkjbsdhsuhfkjsdhfkjshdfkdsjfhksjdfsdhfjklhs dflkdshaklfhsdklfhksdhfkj sdhfklhsdfkjnvkjsdankjsdhf
                dsfjklsdjfl;sa
            </div>

</div><!--End of Panel-->
 
</div>  <!--End of Main Page-->

</body>  
</html> 